<!DOCTYPE html>
<html>
<head>
    <title>Intermediate Event Example</title>
</head>
<body>
    <form id="registrationForm">
        <label for="username">Username:</label>
        <input type="text" id="username" required>
        <span id="usernameError" style="color: red;"></span>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" required>
        <span id="emailError" style="color: red;"></span>
        <br>
        <label for="password">Password:</label>
        <input type="password" id="password" required>
        <span id="passwordError" style="color: red;"></span>
        <br>
        <button type="button" id="submitButton">Submit</button>
    </form>

    <div id="displayArea">
        <h2>Registered Users</h2>
        <ul id="userList"></ul>
    </div>

    <script>
        var userList = document.getElementById("userList");
        var submitButton = document.getElementById("submitButton");

        submitButton.addEventListener("click", function() {
            var username = document.getElementById("username").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            // Validate inputs before appending
            if (username.length >= 5 && validateEmailFormat(email) && password.length >= 8) {
                appendUserInfo(username, email, password);
            } else {
                alert("Please fill in valid information.");
            }
        });

        function appendUserInfo(username, email , password) {
            var listItem = document.createElement("li");
            listItem.textContent = "Username: " + username + ", Email: " + email + ", Password : " + password;
            userList.appendChild(listItem);
            clearForm();
        }

        function clearForm() {
            document.getElementById("username").value = "";
            document.getElementById("email").value = "";
            document.getElementById("password").value = "";
        }

        function validateEmailFormat(email) {
            var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            return emailPattern.test(email);
        }
    </script>
</body>
</html>
